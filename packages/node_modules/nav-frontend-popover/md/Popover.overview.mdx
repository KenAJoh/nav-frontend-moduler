import Alertstripe from 'NavFrontendModules/nav-frontend-alertstriper';

import Example from './../../../../guideline-app/app/ui/components/example/Example';
import PopoverNormalEksempel from '../_popover-normal.example.js';
import PopoverOrienteringEksempel from '../_popover-orientering.example.js';
import PopoverInputEksempel from '../_popover-input.example.js';
import PopoverDropdownEksempel from '../_popover-dropdown.example.js';
import PopoverEdgeVideo from './../../../../guideline-app/app/assets/videos/popover-edge.mp4';
import Popover, { PopoverBase } from './..';

## Normal

Normal variant av komponenten er skjult. For å åpne komponenten må den få et annet element som anker. 
Typisk er det elementet som åpner komponenten som bør bli komponentens anker (som i eksempelet med knappen 
nedenfor). Popover-komponenten vil da posisjonere seg selv i forhold til dette anker-elementet.

<Example>
    <PopoverNormalEksempel />
</Example>

```jsx
<Knapp onClick={(e) => this.togglePopover(e.currentTarget)}>Åpne popover</Knapp>
<Popover
    ankerEl={this.state.anker}
    onRequestClose={() => this.setState({anker: undefined})}
>
    <p style={{padding:'1rem'}}>
        Dette er en popover.
    </p>
</Popover>
```

## Orientering

Komponenten kan posisjonere seg med forskjellige orienteringer i forhold til anker-elementet. Default er `over`, men 
kan også være `under`, `hoyre`, `venstre`, `over-venstre`, `over-hoyre`, `under-venstre` eller `under-hoyre`.

<Example>
    <PopoverOrienteringEksempel />
</Example>

```jsx
<Popover
    ankerEl={this.state.anker}
    onRequestClose={() => this.setState({anker: undefined})}
    orientering={this.state.orientering}
>
    <p style={{margin:'1rem', maxWidth:300}}>
        Dette er en popover som bruker <code className="inline">orientering</code>-propen til å posisjonere seg i forhold til ankeret sitt.
    </p>
</Popover>
```

## Uten pil

Du kan også skru av pilen og få komponenten til å posisjonere seg helt inntil anker-elementet sitt. Kjekt hvis man f.eks. vil lage typiske dropdown-menyer:

<Example>
    <PopoverDropdownEksempel />
</Example>

```jsx
<Menyknapp
    onClick={(e) => this.togglePopover(e.currentTarget)}
    aria-expanded={this.state.anker !== undefined}
    aria-controls={this.popoverId}
    aria-haspopup="dialog"
>
    Dropdown meny
</Menyknapp>
<Popover
    id={this.popoverId}
    ankerEl={this.state.anker}
    onRequestClose={() => this.setState({ anker: undefined })}
    orientering="under"
    utenPil
>
    <ul className="menu" style={{minWidth:187}}>
        <li><Lenke href="#">Et valg</Lenke></li>
        <li><Lenke href="#">Et annet valg</Lenke></li>
        <li><Lenke href="#">Et tredje valg</Lenke></li>
        <li><Lenke href="#">Et fjerde valg</Lenke></li>
    </ul>
</Popover>
```

## Input-trigger

<Example>
    <PopoverInputEksempel />
</Example>

```jsx
<Input
    label="Skriv noe"
    onChange={(e) => {
        if (e.target.value && !this.state.anker) {
            this.setState({anker: e.currentTarget});
        } else if (!e.target.value) {
            this.setState({anker: undefined});
        }
    }}
/>
<Popover
    ankerEl={this.state.anker}
    onRequestClose={() => this.setState({ anker: undefined })}
    orientering="under-venstre"
    autoFokus={false}
    utenPil
>
    <p style={{ padding: '1rem' }}>
        Dette er en popover.
    </p>
</Popover>
```

## Autojustering mot skjermbredde

Popover-komponenten vil automatisk justere egen posisjon og størrelse for å holde seg innenfor den tilgjengelige skjermbredden.

<Example>
    <video src={PopoverEdgeVideo} controls autoPlay loop preload="auto" width="100%" />
</Example>

## Base

Selve Popover-vinduet er en selvstendig "dum" komponent kalt `PopoverBase` som du kan bruke hvis du 
ønsker å håndtere posisjonering osv. manuelt.

<Example>
    <PopoverBase>
        <div style={{padding:'1rem'}}>
            Dette er en PopoverBase
        </div>
    </PopoverBase>
</Example>

```jsx
<PopoverBase>
    <div style={{padding:'1rem'}}>
        Dette er en PopoverBase
    </div>
</PopoverBase>
```
