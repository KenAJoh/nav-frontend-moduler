import * as React from 'react';
import * as PT from 'prop-types';
import * as classnames from 'classnames';
import { Manager, Reference, Popper } from 'react-popper';

import 'nav-frontend-popover-style';

export interface PopoverProps {
    /**
     * Egendefinert klassenavn.
     */
    className?: string;
}

class Popover extends React.Component<PopoverProps> {
    render() {
        const { children, className } = this.props;
        return (
            <Popper>
                {({ ref, placement, arrowProps }) => (
                    <div
                        className="popover"
                        ref={ref}
                        data-placement={placement}
                    >
                        { this.props.children }
                        <div ref={arrowProps.ref} />
                    </div>
                )}
            </Popper>
        );
    }
}

(Popover as React.ComponentClass).propTypes = {
    /**
     * Egendefinert klassenavn.
     */
    className: PT.string
};

export default Popover;
export { Manager, Reference };