import * as React from 'react';
import * as PT from 'prop-types';
import 'nav-frontend-lastestriper-style';

export interface NavFrontendLastestriperProps {
    /**
     * Antall lastestriper. Default er 3.
     */
    linjer?: number,
    /**
     * Inline stiling
     */
    style?: object,
    /**
     * Egendefinert klassenavn.
     */
    className?: string;
}

const lastestriper = (linjer: number): React.ReactNode[] => {
    return Array(linjer)
        .fill(0)
        .map((_, indeks) => {
            const idx = indeks % 3;
            if (idx === 0) {
                return <div className="lastestripe" key={indeks} />;
                // tslint:disable-next-line:no-else-after-return
            } else if (idx === 1) {
                return <div className="lastestripe lastestripe__kort_forsinkelse" key={indeks} />;
            } else {
                return <div className="lastestripe lastestripe__lang_forsinkelse lastestripe__smal" key={indeks} />;
            }
        });
};

const NavFrontendLastestriper: React.StatelessComponent<NavFrontendLastestriperProps> = ({ linjer = 3, style }) => (
    <div className="nav-frontend-lastestriper" style={style}>
        {lastestriper(linjer)}
    </div>
);

(NavFrontendLastestriper as React.ComponentClass).propTypes = {
    /**
     * Antall lastestriper. Default er 3.
     */
    linjer: PT.number,
    /**
     * Inline stiling
     */
    style: PT.object,
    /**
     * Egendefinert klassenavn.
     */
    className: PT.string
};

export default NavFrontendLastestriper;
